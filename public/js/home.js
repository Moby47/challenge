var Desktop={options:{windowArea:".window-area",windowAreaClass:"",taskBar:".task-bar > .tasks",taskBarClass:""},wins:{},setup:function(t){return this.options=$.extend({},this.options,t),this},addToTaskBar:function(t){var o=t.getIcon(),s=t.win.attr("id"),a=$("<span>").addClass("task-bar-item started").html(o);a.data("wID",s),a.appendTo($(this.options.taskBar))},removeFromTaskBar:function(t){var o=t.attr("id"),s=$(".task-bar-item"),a=this;$.each(s,function(){var t=$(this);t.data("wID")===o&&(delete a.wins[o],t.remove())})},createWindow:function(t){t.onDragStart=function(){s=$(this),$(".window").css("z-index",1),s.hasClass("modal")||s.css("z-index",3)},t.onDragStop=function(){(s=$(this)).hasClass("modal")||s.css("z-index",2)},t.onWindowDestroy=function(t){Desktop.removeFromTaskBar($(t))};var o=$("<div>").appendTo($(this.options.windowArea)).window(t).data("window"),s=o.win,a=16*Metro.utils.objectLength(this.wins);return"auto"===o.options.place&&"auto"===o.options.top&&"auto"===o.options.left&&s.css({top:a,left:a}),this.wins[s.attr("id")]=o,this.addToTaskBar(o),o}};Desktop.setup();var w_icons=["rocket","apps","cog","anchor"],w_titles=["rocket","apps","cog","anchor"];function createWindow(){var t=Metro.utils.random(0,3),o=Desktop.createWindow({resizeable:!0,draggable:!0,width:300,icon:"<span class='mif-"+w_icons[t]+"'></span>",title:w_titles[t],content:"<div class='p-2'>This is desktop demo created with Metro 4 Components Library</div>"});setTimeout(function(){o.setContent("New window content")},3e3)}function createWindowWithCustomButtons(){var t=Metro.utils.random(0,3);Desktop.createWindow({resizeable:!0,draggable:!0,customButtons:[{html:"<span class='mif-rocket'></span>",cls:"sys-button",onclick:"alert('You press rocket button')"},{html:"<span class='mif-user'></span>",cls:"alert",onclick:"alert('You press user button')"},{html:"<span class='mif-cog'></span>",cls:"warning",onclick:"alert('You press cog button')"}],width:360,icon:"<span class='mif-"+w_icons[t]+"'></span>",title:w_titles[t],content:"<div class='p-2'>This is desktop demo created with Metro 4 Components Library.<br><br>This window has a custom buttons in caption.</div>"})}function createWindowModal(){Desktop.createWindow({resizeable:!1,draggable:!0,width:300,icon:"<span class='mif-cogs'></span>",title:"Modal window",content:"<div class='p-2'>This is desktop demo created with Metro 4 Components Library</div>",overlay:!0,modal:!0,place:"center",onShow:function(t){(t=$(t)).addClass("ani-swoopInTop"),setTimeout(function(){$(t).removeClass("ani-swoopInTop")},1e3)},onClose:function(t){(t=$(t)).addClass("ani-swoopOutTop")}})}function createWindowYoutube(){Desktop.createWindow({resizeable:!0,draggable:!0,width:500,icon:"<span class='mif-youtube'></span>",title:"Youtube video",content:"https://youtu.be/ZlhUJ6QkvL8",clsContent:"bg-dark"})}function openCharm(){$("#charm").data("charms").toggle()}$(".window-area").on("click",function(){Metro.charms.close("#charm")}),$(".charm-tile").on("click",function(){$(this).toggleClass("active")});